\newcommand\numfontsize{\@setfontsize\Huge{200}{60}}

\newcommand{\hsp}{\hspace{0pt}}

\makeatletter
\renewcommand*\cleardoublepage{
    \clearpage
    \if@twoside
        \ifodd\c@page\else\null
            \AddToShipoutPicture*\backgroundbl
            \thispagestyle{empty}\newpage
            \if@twocolumn
                \hbox{}
                \newpage
            \fi
        \fi
    \fi
}
\makeatother

\definecolor{polimiblue}{cmyk}{.4,.1,0,.4}

\titleformat{\chapter}[hang]{\fontsize{50}{20}\selectfont\bfseries\filright}{
    \textcolor{polimiblue}
    \thechapter\hsp\hspace{2mm}\textcolor{polimiblue}{|   }
    \hsp
}{0pt}{\huge\bfseries\textcolor{polimiblue}}

\titleformat{\section}
{\color{polimiblue}\normalfont\Large\bfseries}
{\color{polimiblue}\thesection.}{1em}{}

\titleformat{\subsection}
{\color{polimiblue}\normalfont\large\bfseries}
{\color{polimiblue}\thesubsection.}{1em}{}

\titleformat{\subsubsection}
{\color{polimiblue}\normalfont\large\bfseries}
{\color{polimiblue}\thesubsubsection.}{1em}{}

\captionsetup[table]{labelfont={color=polimiblue}}
\captionsetup[figure]{labelfont={color=polimiblue}}

\definecolor{mauve}{rgb}{.58,0,.82}
\definecolor{dkgreen}{rgb}{0,.6,0}

\lstset{
    language=Bash,
    frame=tb,
    aboveskip=3mm,
    belowskip=3mm,
    basicstyle={\small\ttfamily},
    columns=flexible,
    numbers=none,
    showstringspaces=false,
    keywordstyle=\color{blue},
    stringstyle=\color{mauve},
    commentstyle=\color{dkgreen},
    tabsize=3,
    breaklines=true,
    breakatwhitespace=true
}

\lstdefinelanguage{Alloy}{
	morekeywords={
		module, open, as,
		private, abstract, sig, extends, in,
		lone, some, one, disj,
		fact, pred, fun, assert,
		run, check,
		for, but, exactly, all, sum, set,
		this, not, no, implies, else, let, iff, or, and, Int,
		none, univ, iden
	},
	sensitive=true,
	morecomment=[l]{//},
	morecomment=[l]{--},
	morecomment=[s]{/*}{*/},
	morestring=[b]{"},
}[keywords,comments,strings]